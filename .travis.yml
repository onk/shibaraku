language: ruby
cache: bundler
sudo: false
services:
  - mysql
rvm:
  - 2.5.7
  - 2.6.5
  - ruby-head
gemfile:
  - gemfiles/activerecord_5_0.gemfile
  - gemfiles/activerecord_5_1.gemfile
  - gemfiles/activerecord_5_2.gemfile
  - gemfiles/activerecord_6_0.gemfile
before_script:
  - cp spec/database.yml.travis spec/database.yml
  - mysql -e 'create database shibaraku_test;'
matrix:
  allow_failures:
  # NOTE: There are unstable versions
  - rvm: ruby-head
